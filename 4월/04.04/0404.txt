0404


insert - 종속적인 데이터 - 한 번에 정리

select
- findByld() - JpaRepository 기능
- @Query @EntityGragh -> DTO 변환 수동처리

list
- 상품 1에 대표 이미지 ord 0 인 이미지
  JPQL, Querydsl

  JPQL - 여러 개 출력 리턴 타입을 Object[ ] - JPQL오 조인 처리

  Querydsl에서 엔티티가 아니므로 조인 처리 방식

가정 : 모든 상품은 1개 이상의 이미지가 있다. 대상이미지의 ord 값은 1이다.


- 상품 1에 있는 모든 이미지를 리스트로 처리할 수 있다. - fetch join을 쓰면 안되는 이유

@ElementCollection 	vs 	@OneToMany
둘 다 일대다 관계

- @ElementCollection : 기본타입. FK 사용 안함. 추가 속성 저장 불가능 (값만 저장). 간단한 값 리스트를 저장할 때 사용

- @OneToMany : 엔티티. FK 사용. 추가 속성 저장 가능(추가 필드 사용 가능). 연관된 엔티티와의 관계를 만들 때 사용



